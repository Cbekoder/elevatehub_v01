{% extends 'base.html' %}

{% block title %}Bosh Sahifa - Maqsaddosh!{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="text-center py-16 sm:py-24">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-gray-900 tracking-tight leading-tight">
            <span class="text-blue-600">Maqsaddosh!</span> bilan maqsadlaringiz<br>orzu bo‘lib qolmaydi.
        </h1>
        <p class="mt-6 max-w-2xl mx-auto text-lg text-gray-500">
            Maqsadlaringizga mos maqsaddoshlarni yo‘nalishlarni belgilash orqali oson toping.
        </p>
        <div class="mt-8 max-w-md mx-auto">
            <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                    <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                    </svg>
                </div>
                <input type="text" placeholder="Maqsaddosh qidirish..." class="w-full py-3 pl-11 pr-4 bg-white border border-gray-200 rounded-full shadow-sm focus:ring-blue-500 focus:border-blue-500 outline-none">
            </div>
        </div>
    </section>

    <!-- Category Grid Section -->
    <section class="mt-4">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">Maqsad yo‘nalishlari</h2>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
            <!-- Loop through categories from your Django view context -->
            {% for category in categories %}
                <a href="{% url 'category_detail' category.slug %}" class="flex items-center p-4 rounded-xl transition duration-300 ease-in-out hover:scale-105 hover:shadow-lg" style="background-color: {{ category.color|default:'#f0f4f8' }};">
                    <div class="w-11 h-11 rounded-lg flex items-center justify-center mr-4 bg-white/60">
                        <!-- 
                            This part dynamically renders an icon based on the category name.
                            For a more robust solution, you would save the SVG path for the icon in your database.
                        -->
                        {% if 'Sport' in category.name %}
                            <svg class="w-6 h-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"></path></svg>
                        {% elif 'Ta’lim' in category.name %}
                            <svg class="w-6 h-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path d="M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 0 1 6 0v8.25a3 3 0 0 1-3 3Z"></path></svg>
                        {% elif 'kasblar' in category.name %}
                            <svg class="w-6 h-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V8.25a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 8.25v7.5A2.25 2.25 0 0 0 6.75 18Z"></path></svg>
                        {% elif 'Shaxsiy' in category.name %}
                            <svg class="w-6 h-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.892 1.892M12 21.75l-1.07-1.928M18.75 4.5l-1.892 1.892M12 12.75l-1.07 1.928M18.75 19.5l-1.892-1.892M12 12.75l1.07-1.928M5.166 4.666l1.892 1.892M12 4.5l1.07 1.928M5.166 19.334l1.892-1.892M12 12.75l1.07 1.928"></path></svg>
                        {% elif 'Kitob' in category.name %}
                           <svg class="w-6 h-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"></path></svg>
                        {% elif 'Biznes' in category.name %}
                            <svg class="w-6 h-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443h2.882c1.608 0 2.904-1.296 2.904-2.894V12.76c0-1.6-1.123-2.994-2.707-3.227-1.087-.16-2.185-.283-3.293-.369m-13.5 0H2.25m13.5 0H10.5m0 0V4.5m0 0H6.75m4.5 0H18m-3.375 0a1.526 1.526 0 0 0-1.032-.443l-4.076-4.076v5.293c0 .828.672 1.5 1.5 1.5h2.882c1.608 0 2.904 1.296 2.904-2.894V12.76c0-1.6-1.123-2.994-2.707-3.227-1.087-.16-2.185-.283-3.293-.369"></path></svg>
                        {% else %}
                             <!-- Default Icon -->
                            <svg class="w-6 h-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09Z"></path></svg>
                        {% endif %}
                    </div>
                    <h3 class="font-semibold text-gray-900">{{ category.name }}</h3>
                </a>
            {% endfor %}
        </div>
    </section>

    <!-- "Barchasi" Dropdown Section -->
    <section class="py-12 text-center">
        <div class="relative inline-block text-left">
            <div>
                <button type="button" class="inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none" id="options-menu">
                    Barchasi
                    <svg class="-mr-1 ml-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>
            <div id="options-menu-dropdown" class="dropdown-menu origin-top absolute mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10" style="left: 50%; transform: translateX(-50%);">
                <div class="py-1">
                    {% for category in categories %}
                        <a href="{% url 'category_detail' category.slug %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">{{ category.name }}</a>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}
